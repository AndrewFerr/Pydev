<?xml version="1.0" encoding="UTF-8"?>
<project name="build" default="feature_export">
    <target name="init">
        <property name = "pydev.version"        value = "0.9.5"/>
    	
        <property name = "path.workspace"       value = "../."/>
        <property name = "path.pydev"           value = "../org.python.pydev"/>
    	<property name = "path.output"          value = "../org.python.pydev.site"/>
        <property name = "path.output.zip"      value = "../org.python.pydev.site/zips"/>

    	<property name = "path.pydev.core"      value = "../org.python.pydev.core"/>
        <property name = "path.pydev.debug"     value = "../org.python.pydev.debug"/>
        <property name = "path.pydev.feature"   value = "../org.python.pydev.feature"/>
        <property name = "path.pydev.help"      value = "../org.python.pydev.help"/>
        <property name = "path.pydev.parser"    value = "../org.python.pydev.parser"/>
        <property name = "path.pydev.site"      value = "../org.python.pydev.site"/>

        
        <echo message="Initializing:"/>
        <echo message="  Version                   : ${pydev.version}"/>
        <echo message="  Workspace path            : ${path.workspace}"/>
        <echo message="  Output path               : ${path.output}"/>
        <echo message="  Zip output path           : ${path.output.zip}"/>
    </target>

	<target name="templates">
		<replaceregexp match="Bundle-Version:(.*)" replace="Bundle-Version: ${pydev.version}" byline="true">
			<fileset dir="${path.workspace}" includes="**/*.MF"/>
		</replaceregexp>
		
		<replaceregexp file="${path.pydev.feature}/feature.xml" match="version=(.*)" replace='version="${pydev.version}"' byline="true"/>
		
	</target>
	

	<target name="feature_export" depends="init,templates" >
		<!--
		<pde.exportFeatures features="org.python.pydev.feature" destination="${path.output.zip}" filename="pydev_${pydev.version}.zip" exportType="zip" exportSource="false" />
		<pde.exportFeatures features="org.python.pydev.feature" destination="${path.output}" exportType="update" exportSource="false" />
		-->
	</target>


</project>
