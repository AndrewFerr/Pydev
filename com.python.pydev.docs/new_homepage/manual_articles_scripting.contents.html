<doc>
<contents_area>

	<h3>Scripting Pydev with Jython</h3>
	
	<p>
		Version 1.0.4 has added the option of <strong>scripting Pydev with Jython</strong>, and this article aims at explaining how it works
		and how to add your own scripts to Pydev.
	</p>
	
	<br/>
	<p>
		What we will see is the integration that will allow you to listen to the events generated by the editor (PyEdit class)
		and respond accordingly.<br/>
		<strong>NOTE</strong>: In the end of this article, there are links to view things at the cvs with the referenced classes.
		
	</p>
	
	<br/>
	<p>
		The examples that we will see are located in the project <strong>org.python.pydev.jython</strong> under the folder <strong>jysrc</strong>.
	</p>
	
	<br/>
	<p>
		The first thing you'll want to do is configure the preferences so that you can see the output of the scripts 
		in the console (so that you can do some prints and actually see them).
	</p>
	
	<p><br/><center><img src="images/scripting/scripting_prefs.png"/></center><br/><br/></p>
	<p>
		Now that you have your preferences correctly set, let's make some changes to see what we can play with... You just need
		Pydev installed (we will change the scripts that come with the default installation, so, there is no need to actually download
		the Pydev sources, altough it might be worth getting it for having it as a reference).
	</p>
	
	<br/>
	<p>
		So, in your Pydev installation, go to the <strong>jysrc</strong> folder of the <strong>org.python.pydev.jython plugin</strong>
		that is part of Pydev (this is located under the eclipse install... 
		something as <strong>...\eclipse\plugins\org.python.pydev.jython_1.0.4\jysrc</strong>)
	</p>
	
	<br/>
	<p>
		You'll notice some files that start with <strong>pyedit_</strong> (there could be many, but for this article, we'll only care
		about <strong>pyedit_example.py</strong>, <strong>pyedit_example2.py</strong> and <strong>pyedit_next_problem.py</strong>).
	</p>

	<br/>
	<p>
		The first thing you want to know about is that the name of the script is something important in the integration. All the
		scripts that will listen to the PyEdit class (this is the Pydev Editor) have to start with <strong>pyedit_</strong>. Another
		interesting thing is that changes are gathered without the need of restarting Eclipse (but as we will be listening to
		the editor, you might have to reopen it, so that it triggers all of the events we may want to listen).
	</p>
		
	<br/>
	<p>
		So, now that you're ready, let's open the file <strong>pyedit_example.py</strong> and uncomment the last line of code. 
		After, if you close a Pydev Editor and open it again, you'll notice that you'll have some messages showing in the console, with the 'print'
		statement that was uncommented (and now, if you go and comment it again, you'll stop seeing the messages again, so,
		you can see that all the <strong>changes are automatically reloaded whenever you change the script</strong>).
	</p>
	
	<br/>
	<p>
		<strong>NOTE</strong>: the <a href="http://sunshade.sourceforge.net/update">sunshade</a> plugin may be very useful,
		as it will allow you to open the external files through drag and drop from the explorer itself, as you'll probably not
		have a project for those scripts (unless you want to get the whole pydev structure and script it in the development version).
	</p>
	<br/>
	
	<p>
		The image below shows the ouput you should get from uncommenting the line in the example above.
	</p>
	<p><br/><center><img src="images/scripting/scripting_output.png"/></center><br/><br/></p>
	
	<p>
		Now that you've already seen how 'easy' it should be to change an existing script and get it to work, let's do something useful
		to it...
	</p>

	<p>
		<br/><br/>
		<strong>Resources</strong> (links to the cvs view at sourceforge)<br/>
		<ul>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev/src/org/python/pydev/editor/PyEdit.java?view=markup">PyEdit.java</a></strong>
			</li>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev.jython/jysrc/?view=markup">org.python.pydev.jythor/jysrc</a></strong>
			</li>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev/src/org/python/pydev/editor/IPyEditListener.java?view=markup">IPyEditListener.java</a></strong>
			</li>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev/src/org/python/pydev/editor/scripting/PyEditScripting.java?view=markup">PyEditScripting.java</a></strong>
			</li>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev.jython/jysrc/pyedit_example.py?view=markup">pyedit_example.py</a></strong>
			</li>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev.jython/jysrc/pyedit_example2.py?view=markup">pyedit_example2.py</a></strong>
			</li>
			<li>
				<strong><a href="http://cvs.sourceforge.net/viewcvs.py/pydev/org.python.pydev.jython/jysrc/pyedit_next_problem.py?view=markup">pyedit_next_problem.py</a></strong>
			</li>
			<li>
				<strong><a href="">foo</a></strong>
			</li>
		</ul>
		
	</p>
</contents_area>



<right_area>
<p></p>
</right_area>


<image_area>manual.png</image_area>


<quote_area><strong>Pydev 101</strong></quote_area>

<root>manual_adv_features</root>
</doc>