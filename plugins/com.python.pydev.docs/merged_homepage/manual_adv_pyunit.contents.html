<doc>
<contents_area>
<h1 class="title">Unittest integration</h1>

<p>On PyDev 1.6.4, an improved unittest support was introduced. It allows using different test runners (the default
PyDev test runner, nose or py.test) and allows seeing the results in a view (PyUnit view) with a red/green bar
which also allows re-running tests.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#configuring-test-runners" id="id1">Configuring test runners</a></li>
<li><a class="reference internal" href="#configuring-the-pydev-test-runner" id="id2">Configuring the PyDev test runner</a></li>
<li><a class="reference internal" href="#configuring-the-nose-test-runner" id="id3">Configuring the Nose test runner</a></li>
<li><a class="reference internal" href="#configuring-the-py-test-test-runner" id="id4">Configuring the Py.test test runner</a></li>
<li><a class="reference internal" href="#pyunit-view" id="id5">PyUnit view</a></li>
<li><a class="reference internal" href="#running-and-showing-results-in-the-pyunit-view" id="id6">Running and showing results in the PyUnit view</a></li>
</ul>
</div>
<div class="section" id="configuring-test-runners">
<h1><a class="toc-backref" href="#id1">Configuring test runners</a></h1>
<p>The preferences page to configure the test runner is accessible from the PyUnit view at the dropdown menu &gt; configure test runner preferences
(or at window &gt; preferences &gt; PyDev &gt; PyUnit)</p>
<img alt="images/py_unit/py_unit_preferences.png" class="snap align-center" src="images/py_unit/py_unit_preferences.png" />
<p><strong>Note</strong>: the flags to choose the tests in the test runner should not be specified
(they are properly managed by PyDev in each test run)</p>
</div>
<div class="section" id="configuring-the-pydev-test-runner">
<h1><a class="toc-backref" href="#id2">Configuring the PyDev test runner</a></h1>
<p>The options that the PyDev unittest accepts are:</p>
<blockquote>
<dl class="docutils">
<dt><strong>--verbosity=number</strong></dt>
<dd>Sets the verbosity level for the run</dd>
<dt><strong>--jobs=number</strong></dt>
<dd>The number of processes to be used to run the tests</dd>
<dt><strong>--split_jobs=tests|module</strong></dt>
<dd>if <strong>tests</strong> is passed (default), the tests will be split independently to each process
if <strong>module</strong> is passed, a given job will always receive all the tests from a module</dd>
</dl>
</blockquote>
<p>An example of options that can be set in the preferences would be:</p>
<p><strong>--verbosity=1 --jobs=2 --split_jobs=module</strong></p>
</div>
<div class="section" id="configuring-the-nose-test-runner">
<h1><a class="toc-backref" href="#id3">Configuring the Nose test runner</a></h1>
<p>Note: the integration was tested with version 1.0</p>
<p>The options that the nose test runner accepts can be found at <a class="reference external" href="http://somethingaboutorange.com/mrl/projects/nose">http://somethingaboutorange.com/mrl/projects/nose</a></p>
<p>An example of options that can be set in the preferences would be:</p>
<p><strong>--verbosity=2 --processes=2</strong></p>
<p>--verbosity=2 (set the verbosity level to 2)</p>
<p>--processes=2 (use 2 processes to run the tests)</p>
</div>
<div class="section" id="configuring-the-py-test-test-runner">
<h1><a class="toc-backref" href="#id4">Configuring the Py.test test runner</a></h1>
<p>Note: the integration was tested with version 2.0</p>
<p>The options that the py.test test runner accepts can be found at <a class="reference external" href="http://pytest.org">http://pytest.org</a></p>
<p>An example of options that can be set in the preferences would be:</p>
<p><strong>-maxfail=2 --tb=native</strong></p>
<p>-maxfail=2 (stop at 2nd failure)</p>
<p>--tb=native (will show tracebacks in the default standard library formatting)</p>
<p><strong>Note</strong>: currently when using the xdist plugin, the results won't be properly shown in the PyUnit view.</p>
</div>
<div class="section" id="pyunit-view">
<h1><a class="toc-backref" href="#id5">PyUnit view</a></h1>
<p>The PyUnit view may be used to see the results of tests being run, their output, time, re-running tests, among others.</p>
<img alt="images/py_unit/py_unit_view.png" class="snap align-center" src="images/py_unit/py_unit_view.png" />
<p>The most interesting features related to seeing the tests are:</p>
<ul class="simple">
<li>The results of tests are shown, along with a green/red bar depending whether all the tests succeeded or not (or if you're with Aptana Studio, following the color theme)</li>
<li>The time a test took to run is shown (and may be used to sort the tree)</li>
<li>The errors/output are shown by selecting the test run or just hovering over the items</li>
<li>A filter to show only errors is available</li>
</ul>
<p>And the most interesting actions are:</p>
<ul class="simple">
<li>A test session can be rerun</li>
<li>A new test session can be created to rerun only the errors of the current run</li>
<li>The test session can be stopped</li>
<li>The results of a previously run test session can be seen again</li>
</ul>
</div>
<div class="section" id="running-and-showing-results-in-the-pyunit-view">
<h1><a class="toc-backref" href="#id6">Running and showing results in the PyUnit view</a></h1>
<p>To show the results in the PyUnit view, a <strong>unittest run</strong> must be done. If running the tests when editing a module, <strong>Ctrl+F9</strong> may be used
to run the tests in that mode (and choosing which tests should be run), otherwise, right-click a folder or python file and choose <strong>Run as &gt; Python Unittest</strong></p>
</div>
</contents_area>


<right_area>
</right_area>


<image_area>manual.png</image_area>


<quote_area></quote_area>



</doc>

